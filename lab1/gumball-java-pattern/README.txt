
1) I added the InTransaction state to deal with the Machines of type 2 and 3, this state acts as an intermediate between HasQuarter and SoldState to determine the rest of change to be inserted to get the gumball.
 
2) This state maintains the counts of different types of coins to make ejecting and dispensing a gumball easy.

3) I have included the changes to the UML class and state-machine diagrams as well before changing the source files.
